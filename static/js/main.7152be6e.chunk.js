(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(e,n,c){"use strict";c.r(n);var r=c(1),t=c.n(r),a=c(32),u=c.n(a),l=(c(93),c(33)),o=c(34),i=c(38),s=c(35),y=c(39),C=(c(94),c(36)),b=c(23),E={changeCurrencyDialog:{open:!1},wallet:[{currency:"GBP",balance:50},{currency:"EUR",balance:27.43},{currency:"USD",balance:121.12}],selectedExchangeCurrencies:{sell:{currency:"GBP",amount:10},buy:{currency:"EUR",amount:11.360243631563138}},currencyRates:{base:"USD",rates:{AED:3.673097,AFN:69.4945,ALL:107.365,AMD:481.215,ANG:1.786743,AOA:213.042,ARS:19.9645,AUD:1.275673,AWG:1.7875,AZN:1.68825,BAM:1.590833,BBD:2,BDT:83.111255,BGN:1.59055,BHD:.37692,BIF:1761.3,BMD:1,BND:1.320806,BOB:6.916616,BRL:3.2385,BSD:1,BTC:.000102136487,BTN:64.818642,BWP:9.483549,BYN:1.96136,BZD:2.011957,CAD:1.26325,CDF:1615,CHF:.936785,CLF:.02255,CLP:590.5,CNH:6.325806,CNY:6.33585,COP:2862,CRC:570.705,CUC:1,CUP:25.5,CVE:89.9,CZK:20.63295,DJF:177.1,DKK:6.0551,DOP:49.304213,DZD:114.323,EGP:17.6885,ERN:15.096667,ETB:27.437924,EUR:.813206,FJD:2.024752,FKP:.715835,GBP:.715835,GEL:2.465598,GGP:.715835,GHS:4.466786,GIP:.715835,GMD:47.15,GNF:9034.7,GTQ:7.372036,GYD:207.302607,HKD:7.8235,HNL:23.672154,HRK:6.044828,HTG:64.38371,HUF:254.55,IDR:13647.213837,ILS:3.48678,IMP:.715835,INR:64.899,IQD:1193.2,IRR:37194.927157,ISK:100.526713,JEP:.715835,JMD:126.601855,JOD:.709503,JPY:106.89473925,KES:101.900143,KGS:68.011027,KHR:4020.35,KMF:400.625,KPW:900,KRW:1076.85,KWD:.299883,KYD:.834126,KZT:320.31,LAK:8293.45,LBP:1516.95,LKR:155.329218,LRD:129.95,LSL:11.619433,LYD:1.336201,MAD:9.214018,MDL:16.659822,MGA:3133.2,MKD:50.143265,MMK:1342.3,MNT:2394.616273,MOP:8.065821,MRO:356,MRU:35.25,MUR:33.048,MVR:15.460011,MWK:725.44,MXN:18.54124,MYR:3.918497,MZN:60.994761,NAD:11.545,NGN:360.84,NIO:31.156741,NOK:7.8488,NPR:103.701541,NZD:1.37146,OMR:.384977,PAB:1,PEN:3.24925,PGK:3.247053,PHP:51.812333,PKR:110.87,PLN:3.39475,PYG:5593,QAR:3.641996,RON:3.784463,RSD:95.882433,RUB:56.3072,RWF:864.46,SAR:3.75,SBD:7.760973,SCR:13.469883,SDG:18.114447,SEK:8.1708,SGD:1.3199,SHP:.715835,SLL:7685.264103,SOS:579.035,SRD:7.468,SSP:130.2634,STD:19923.181155,STN:19.99,SVC:8.758316,SYP:514.98999,SZL:11.612574,THB:31.3985,TJS:8.832033,TMT:3.50998,TND:2.404295,TOP:2.207435,TRY:3.789181,TTD:6.736586,TWD:29.255,TZS:2252.6,UAH:26.990059,UGX:3663.5,USD:1,UYU:28.494716,UZS:8190.6,VEF:24985,VND:22729.928226,VUV:105.763108,WST:2.494252,XAF:533.428482,XAG:.06048768,XAU:75252e-8,XCD:2.70255,XDR:.689371,XOF:533.428482,XPD:95443e-8,XPF:97.041346,XPT:.00100266,YER:250.25,ZAR:11.56164,ZMW:9.784438,ZWL:322.355011}}},h=c(21),d=c(4),p=function(e,n,c){var r=c.base===e?1:c.rates[e];return(c.base===n?1:c.rates[n])/r},m=c(87),g=c(18),f=c.n(g),O=c(37),N=c(12),S=c.n(N),R=c(9),v=function(e){return{type:"UPDATE_RATES",payload:e}},w=function(e){return{type:"SHOW_TOAST",payload:e}},D=function(){return{type:"REFRESH_AMOUNTS"}},A=c(75),x="https://openexchangerates.org/api/latest.json?app_id=".concat("YOUR_API_KEY"),T=function(){var e=Object(A.a)(S.a.mark(function e(){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(x);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(n.statusText);case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=S.a.mark(j);function j(){var e;return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(R.a)(T);case 3:return e=n.sent,n.next=6,Object(R.b)(v(e));case 6:return n.next=8,Object(R.b)(D());case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(R.b)(w("Failed to fetch latest currency rates"));case 14:return n.next=16,Object(R.a)(O.b,1e4);case 16:case"end":return n.stop()}},U,null,[[0,10]])}var k=S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(R.a)(j);case 3:e.next=0;break;case 5:case"end":return e.stop()}},e)}),_=Object(O.a)(),M=Object(b.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CURRENCY_SELL_AMOUNT_CHANGE":case"CURRENCY_BUY_AMOUNT_CHANGE":case"REFRESH_AMOUNTS":return function(e,n){var c=e.selectedExchangeCurrencies,r=e.currencyRates,t=c.sell,a=c.buy,u="REFRESH_AMOUNTS"===n.type?t.amount:n.payload.amount;return"CURRENCY_SELL_AMOUNT_CHANGE"===n.type||"REFRESH_AMOUNTS"===n.type?Object(d.a)({},e,{selectedExchangeCurrencies:{sell:Object(d.a)({},t,{amount:u}),buy:Object(d.a)({},a,{amount:u*p(t.currency,a.currency,r)})}}):Object(d.a)({},e,{selectedExchangeCurrencies:{buy:Object(d.a)({},a,{amount:u}),sell:Object(d.a)({},t,{amount:u*p(a.currency,t.currency,r)})}})}(e,n);case"EXCHANGE":return function(e){var n=e.wallet,c=e.selectedExchangeCurrencies,r=f()(n,{currency:c.buy.currency})||{currency:c.buy.currency,balance:0},t=f()(n,{currency:c.sell.currency})||{currency:c.sell.currency,balance:0};return 0===t.balance?e:Object(d.a)({},e,{wallet:[Object(d.a)({},r,{balance:r.balance+c.buy.amount}),Object(d.a)({},t,{balance:t.balance-c.sell.amount})].concat(Object(m.a)(n.filter(function(e){return e.currency!==r.currency&&e.currency!==t.currency})))})}(e);case"SWAP_CURRENCY":return function(e){return Object(d.a)({},e,{selectedExchangeCurrencies:{buy:e.selectedExchangeCurrencies.sell,sell:e.selectedExchangeCurrencies.buy}})}(e);case"SHOW_CHANGE_CURRENCY":return function(e,n){return Object(d.a)({},e,{changeCurrencyDialog:{open:!0,buyOrSell:n.payload.buyOrSell,currentCurrency:n.payload.currentCurrency}})}(e,n);case"CHANGE_CURRENCY":return function(e,n){var c,r=e.selectedExchangeCurrencies;if(r[n.payload.buyOrSell].currency===n.payload.currency)return Object(d.a)({},e,{changeCurrencyDialog:{open:!1}});var t="buy"===n.payload.buyOrSell?"sell":"buy",a=r[t].currency===n.payload.currency,u=(c={},Object(h.a)(c,n.payload.buyOrSell,a?r[t]:{currency:n.payload.currency,amount:0}),Object(h.a)(c,t,a?r[n.payload.buyOrSell]:Object(d.a)({},r[t],{amount:0})),c);return Object(d.a)({},e,{selectedExchangeCurrencies:u,changeCurrencyDialog:{open:!1}})}(e,n);case"UPDATE_RATES":return function(e,n){return Object(d.a)({},e,{currencyRates:n.payload})}(e,n);case"SHOW_TOAST":return function(e,n){return Object(d.a)({},e,{toastMessage:n.payload})}(e,n);default:return e}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(b.a)(_));_.run(k);c(46);var P=c(76),G=c.n(P),L=c(77),B=c.n(L),H=c(22),W=c.n(H),Y=c(78),F=c.n(Y),K=c(79),I=c.n(K),X=c(80),Z=c.n(X),J=function(e){var n=parseFloat(e);return Z()(n)?"0":function(e){if(!isFinite(e))return 0;for(var n=1,c=0;Math.round(e*n)/n!==e;)n*=10,c++;return c}(n)>2?n.toFixed(2):e.toString()},V=function(e){var n=J(e.wallet?e.wallet.balance:0),c=W()(e.currency)||e.currency,r=J(e.amount),a=!e.buy&&(e.wallet?e.wallet.balance:0)<r;return t.a.createElement("div",{className:"currency ".concat(e.buy?"currency-buy":"currency-sell")},t.a.createElement("div",{className:"currency-name",onClick:function(){return e.onCurrencyClick(e.buy?"buy":"sell",e.currency)}},e.currency,t.a.createElement(B.a,null),t.a.createElement("div",{className:"currency-exchange-balance ".concat(a?"currency-exchange-balance-warning":"")},"Balance: ","".concat(c).concat(n))),t.a.createElement(F.a,{className:"currency-input currency-input-".concat(e.buy?"buy":"sell"),html:r,onChange:function(n){return e.onChange(parseFloat(I()(n.target.value)||0))}}))},Q=c(14),z=c(49),$=c(81),q=c.n($),ee=c(82),ne=c.n(ee),ce=c(83),re=c.n(ce),te=function(e){return t.a.createElement(Q.ListItem,{onClick:e.onClick,className:"currency-list-item ".concat(e.selected?"currency-list-item-selected":"")},t.a.createElement(Q.ListItemContent,{icon:t.a.createElement(q.a,null)},"".concat(e.currency," \xb7 ").concat(J(e.balance))),t.a.createElement(Q.ListItemAction,null,e.selected&&t.a.createElement(ne.a,null)))},ae=function(e){function n(e){var c;return Object(l.a)(this,n),(c=Object(i.a)(this,Object(s.a)(n).call(this,e))).onCurrencyClick=function(e,n){return function(){c.props.onCurrencyChange(e,n),c.setState({other:!1})}},c.onOtherClick=function(){c.setState({open:!1},function(){return c.setState({open:!0,other:!c.state.other})})},c.state={other:!1,open:e.open},c}return Object(y.a)(n,e),Object(o.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open})}},{key:"render",value:function(){var e=this;return t.a.createElement(z.Dialog,{open:this.state.open},t.a.createElement(z.DialogTitle,null,t.a.createElement("span",{className:"currency-list-title"},"Choose currency:")),t.a.createElement(Q.List,{className:"currency-list"},this.props.wallet.map(function(n){return t.a.createElement(te,Object.assign({},n,{selected:n.currency===e.props.currentCurrency,key:n.currency,onClick:e.onCurrencyClick(e.props.buyOrSell,n.currency)}))}),t.a.createElement(Q.ListItem,{className:"currency-list-item currency-list-item-other",onClick:this.onOtherClick},t.a.createElement(Q.ListItemContent,{icon:t.a.createElement(re.a,null)},"Other")),this.state.other&&this.props.availableCurrencies.map(function(n){return t.a.createElement(te,{currency:n,balance:0,selected:n===e.props.currentCurrency,key:n,onClick:e.onCurrencyClick(e.props.buyOrSell,n)})})))}}]),n}(r.Component),ue=c(50),le=c.n(ue),oe=c(84),ie=c.n(oe),se=c(85),ye=c.n(se),Ce=c(86),be=c.n(Ce),Ee=function(){},he=Object(C.b)(function(e){var n=f()(e.wallet,function(n){return n.currency===e.selectedExchangeCurrencies.sell.currency})||{currency:e.selectedExchangeCurrencies.sell.currency,balance:0},c=f()(e.wallet,function(n){return n.currency===e.selectedExchangeCurrencies.buy.currency})||{currency:e.selectedExchangeCurrencies.buy.currency,balance:0};return{sell:e.selectedExchangeCurrencies.sell,buy:e.selectedExchangeCurrencies.buy,sellWallet:n,buyWallet:c,exchangeDisabled:0===n.balance||n.balance<e.selectedExchangeCurrencies.sell.amount,currentRate:p(e.selectedExchangeCurrencies.sell.currency,e.selectedExchangeCurrencies.buy.currency,e.currencyRates),changeCurrencyDialog:e.changeCurrencyDialog,wallet:e.wallet,availableCurrencies:Object.keys(e.currencyRates.rates),toastMessage:e.toastMessage}},function(e){return{onSellAmountChange:function(n){return e({type:"CURRENCY_SELL_AMOUNT_CHANGE",payload:{amount:n}})},onBuyAmountChange:function(n){return e({type:"CURRENCY_BUY_AMOUNT_CHANGE",payload:{amount:n}})},onExchangeClick:function(){return e({type:"EXCHANGE"})},onSwapClick:function(){return e({type:"SWAP_CURRENCY"})},onShowCurrencyClick:function(n,c){return e(function(e,n){return{type:"SHOW_CHANGE_CURRENCY",payload:{buyOrSell:e,currentCurrency:n}}}(n,c))},onCurrencyChange:function(n,c){return e(function(e,n){return{type:"CHANGE_CURRENCY",payload:{buyOrSell:e,currency:n}}}(n,c))}}})(function(e){var n=W()(e.buy.currency)||e.buy.currency,c=W()(e.sell.currency)||e.sell.currency;return t.a.createElement("div",{className:"currency-exchange-widget",style:{height:e.height,width:e.width}},t.a.createElement("div",{className:"currency-exchange-widget-top"},t.a.createElement("div",{style:{fontSize:"15px"}},t.a.createElement(G.a,null)," Exchange"),t.a.createElement("div",{className:"trending-button"},t.a.createElement(le.a,null))),t.a.createElement(V,{amount:e.sell.amount,currency:e.sell.currency,onChange:e.onSellAmountChange,wallet:e.sellWallet,onCurrencyClick:e.onShowCurrencyClick,sell:!0}),t.a.createElement("div",{className:"divider"},t.a.createElement("div",{className:"currency-swap",onClick:e.onSwapClick},t.a.createElement(ye.a,null)),t.a.createElement("div",{className:"exchange-rate"},"\xa0\xa0\xa0",t.a.createElement(le.a,null),"\xa0","".concat(c,"1 = ").concat(n).concat(e.currentRate.toFixed(4)),"\xa0\xa0\xa0"),t.a.createElement("div",{style:{height:"25px",width:"25px",margin:"0 15px"}})),t.a.createElement(V,{amount:e.buy.amount,currency:e.buy.currency,onChange:e.onBuyAmountChange,wallet:e.buyWallet,onCurrencyClick:e.onShowCurrencyClick,buy:!0}),t.a.createElement("div",{className:"button-area"},t.a.createElement(ie.a,{disabled:e.exchangeDisabled,raised:!0,accent:!0,className:"button-exchange",onClick:e.onExchangeClick},"Exchange")),t.a.createElement(ae,Object.assign({},e.changeCurrencyDialog,{onCurrencyChange:e.onCurrencyChange,wallet:e.wallet,availableCurrencies:e.availableCurrencies})),t.a.createElement(be.a,{active:!!e.toastMessage,onTimeout:Ee},e.toastMessage))}),de=function(e){function n(){return Object(l.a)(this,n),Object(i.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(y.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){return t.a.createElement("div",{className:"App"},t.a.createElement(C.a,{store:M},t.a.createElement(he,{height:"calc(100vh)",width:"calc(100vw)"})))}}]),n}(r.Component),pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c(196),c(197);u.a.render(t.a.createElement(de,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/currency-exchange-widget",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/currency-exchange-widget","/service-worker.js");pe?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):me(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):me(e)})}}()},88:function(e,n,c){e.exports=c(198)},93:function(e,n,c){},94:function(e,n,c){}},[[88,1,2]]]);
//# sourceMappingURL=main.7152be6e.chunk.js.map